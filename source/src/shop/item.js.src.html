<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>item.js</title><link href="../../../dossier.css" rel="stylesheet" type="text/css"><script src="../../../types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,null,null,[&quot;item.js&quot;,&quot;src/shop/item.js&quot;,[null,&quot;/**&quot;,&quot; * Bloombox Shop: Items&quot;,&quot; *&quot;,&quot; * @fileoverview Provides expression of shop inventory objects.&quot;,&quot; */&quot;,null,&quot;/*global goog */&quot;,&quot;goog.provide(&#39;bloombox.shop.Item&#39;);&quot;,null,&quot;goog.require(&#39;bloombox.util.Exportable&#39;);&quot;,null,&quot;goog.require(&#39;proto.commerce.Item&#39;);&quot;,&quot;goog.require(&#39;proto.commerce.VariantSpec&#39;);&quot;,&quot;goog.require(&#39;proto.temporal.Instant&#39;);&quot;,null,null,&quot;// -- Item -- //&quot;,&quot;/**&quot;,&quot; * Specifies an item that is being ordered as part of an Order.&quot;,&quot; *&quot;,&quot; * @param {bloombox.product.Key} key Key for the item.&quot;,&quot; * @param {number} count Count of this item to add to the order.&quot;,&quot; * @implements {bloombox.util.Exportable&lt;proto.commerce.Item&gt;}&quot;,&quot; * @constructor&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.shop.Item = function Item(key,&quot;,&quot;                                   count) {&quot;,&quot;  /**&quot;,&quot;   * Key for this product item.&quot;,&quot;   *&quot;,&quot;   * @type {bloombox.product.Key}&quot;,&quot;   */&quot;,&quot;  this.key = key;&quot;,null,&quot;  /**&quot;,&quot;   * Count of this item to be ordered.&quot;,&quot;   *&quot;,&quot;   * @type {number}&quot;,&quot;   */&quot;,&quot;  this.count = count;&quot;,null,&quot;  /**&quot;,&quot;   * Variant specifications for this item.&quot;,&quot;   *&quot;,&quot;   * @type {Array&lt;!proto.commerce.VariantSpec&gt;}&quot;,&quot;   */&quot;,&quot;  this.variants = [];&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Prepare a proto from an order item, suitable for use in an RPC.&quot;,&quot; *&quot;,&quot; * @return {proto.commerce.Item} Prepared proto.&quot;,&quot; * @public&quot;,&quot; */&quot;,&quot;bloombox.shop.Item.prototype.export = function() {&quot;,&quot;  let protob = new proto.commerce.Item();&quot;,null,&quot;  // set key&quot;,&quot;  let protoKey = this.key.export();&quot;,&quot;  protob.setKey(protoKey);&quot;,null,&quot;  // set count&quot;,&quot;  protob.setCount(this.count || 1);&quot;,null,&quot;  // prepare variant specs&quot;,&quot;  this.variants.map(function(item) {&quot;,&quot;    protob.addVariant(/** @type {!proto.commerce.VariantSpec} */ (item));&quot;,&quot;  });&quot;,&quot;  return protob;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Add a product variant.&quot;,&quot; *&quot;,&quot; * @param {proto.commerce.ProductVariant} type Type of variance to specify.&quot;,&quot; * @param {*} content Content to specify as part of this variance.&quot;,&quot; * @return {bloombox.shop.Item} Subject item, for chain-ability.&quot;,&quot; * @package&quot;,&quot; */&quot;,&quot;bloombox.shop.Item.prototype._addVariant = function(type, content) {&quot;,&quot;  // make a variant spec&quot;,&quot;  let variantSpec = new proto.commerce.VariantSpec();&quot;,&quot;  variantSpec.setVariant(type);&quot;,null,&quot;  switch (type) {&quot;,&quot;    case proto.commerce.ProductVariant.SIZE:&quot;,&quot;      variantSpec.setSize(/** @type {string} */ (content));&quot;,&quot;      break;&quot;,&quot;    case proto.commerce.ProductVariant.WEIGHT:&quot;,&quot;      variantSpec.setWeight(/** @type {proto.commerce.ProductWeight} */ (&quot;,&quot;        content));&quot;,&quot;      break;&quot;,&quot;    case proto.commerce.ProductVariant.COLOR:&quot;,&quot;      variantSpec.setColor(/** @type {string} */ (content));&quot;,&quot;      break;&quot;,&quot;  }&quot;,null,&quot;  // add it to variants&quot;,&quot;  this.variants.push(variantSpec);&quot;,null,&quot;  // return self for chain-ability&quot;,&quot;  return this;&quot;,&quot;};&quot;,null,null,&quot;/**&quot;,&quot; * Add a weight variance specification to this item.&quot;,&quot; *&quot;,&quot; * @param {bloombox.product.Weight} weight Weight to specify.&quot;,&quot; * @return {bloombox.shop.Item} Subject item, for chain-ability.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.shop.Item.prototype.addWeightVariant = function(weight) {&quot;,&quot;  return this._addVariant(proto.commerce.ProductVariant.WEIGHT, weight);&quot;,&quot;};&quot;,null,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Add a size variance specification to this item.&quot;,&quot; *&quot;,&quot; * @param {string} size Size to specify.&quot;,&quot; * @return {bloombox.shop.Item} Subject item, for chain-ability.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.shop.Item.prototype.addSizeVariant = function(size) {&quot;,&quot;  return this._addVariant(proto.commerce.ProductVariant.SIZE, size);&quot;,&quot;};&quot;,null,null,&quot;// noinspection JSUnusedGlobalSymbols&quot;,&quot;/**&quot;,&quot; * Add a color variance specification to this item.&quot;,&quot; *&quot;,&quot; * @param {string} color Color to specify.&quot;,&quot; * @return {bloombox.shop.Item} Subject item, for chain-ability.&quot;,&quot; * @export&quot;,&quot; */&quot;,&quot;bloombox.shop.Item.prototype.addColorVariant = function(color) {&quot;,&quot;  return this._addVariant(proto.commerce.ProductVariant.COLOR, color);&quot;,&quot;};&quot;]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../dossier.js" defer></script>